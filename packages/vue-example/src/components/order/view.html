<div class="order-page">
  <header>
    <button :disabled="viewModel.controls.backDisabled" @click="controller.close">Back</button>
    <button :disabled="viewModel.controls.saveDisabled" @click="controller.save">Save</button>
  </header>
 
  <div v-if="viewModel.state === 'content'">
    <div class="title">
      Order No 
      <span id="order-id">{{viewModel.data.id}}</span>
    </div>
    <div class="order-parameters">
      <div>
        <label>
          Created Date: 
          <input id="created-date" :value="viewModel.data.createdDate" disabled>
        </label>
      </div>
      <div>
        <label>
          Updated Date: 
          <input id="updated-date" :value="viewModel.data.updatedDate" disabled>
        </label>
      </div>
      <div>
        <label>
          User Name: 
          <input id="user-name" :value="viewModel.data.user.name" disabled>
        </label>
      </div>
      <div>
        <label>Sum: 
          <input id="sum" :value="viewModel.data.sum" disabled>
        </label>
      </div>
      <div>
        <label>
          Payment Status:
          <select
            id="payment-status"
            name="paymentStatus"
            v-model="viewModel.data.paymentStatus"
            @change="controller.change"
          >
            <option value="unpaid">Unpaid</option>
            <option value="paid">Paid</option>
          </select>
        </label>
      </div>
      <div>
        <label>
          Fulfillment Status:
          <select
            id="fulfillment-status"
            name="fulfillmentStatus"
            v-model="viewModel.data.fulfillmentStatus"
            @change="controller.change"
          >
            <option value="pending">Pending</option>
            <option value="fulfilled">Fulfilled</option>
          </select>
        </label> 
      </div>
      <div>
        <label>
          Shipping Address: 
          <input
            id="shipping-address"
            name="shippingAddress"
            type="text"
            v-model="viewModel.data.shippingAddress"
            @change="controller.change"
          >
        </label>
      </div>
      <div>
        <label>
          Billing Address: 
          <input
            id="billing-address"
            type="text"
            :value="viewModel.data.billingAddress"
            disabled
          >
        </label>
      </div>
    </div>
  </div>

  <div class="error-state" v-else-if="viewModel.state === 'error'">
    <p>Order loading failed with error</p>
    <p>{{message}} ({{code}})</p>
  </div>

  <div class="loading-state" v-else-if="viewModel.state === 'loading'">
    <div class="loading-state">
      <p>Loading...</p>
    </div>
  </div>
</div>
